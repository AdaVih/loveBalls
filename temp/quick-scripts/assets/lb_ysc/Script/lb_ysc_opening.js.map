{"version":3,"sources":["lb_ysc_opening.js"],"names":["common","require","cc","Class","extends","Component","properties","laya","default","type","Node","audio_enter","url","AudioClip","onLoad","start","sm","playAudioId","audioEngine","stop","laya_box","node","getChildByName","OpenAnimation","getComponent","Animation","start_box","startAnimation","top_box","topAnimation","share_box","shareAnimation","playEffect","play","on","active","audio_bg","gm","onLaunch","toSelect","director","loadScene","share","shareGame"],"mappings":";;;;;;AAAA,IAAIA,SAASC,QAAQ,eAAR,CAAb;AACAC,GAAGC,KAAH,CAAS;AACLC,aAASF,GAAGG,SADP;;AAGLC,gBAAY;AACRC,cAAK;AACDC,qBAAQ,IADP;AAEDC,kBAAKP,GAAGQ;AAFP,SADG;AAKRC,qBAAa;AACTC,iBAAKV,GAAGW,SADC;AAETL,qBAAS;AAFA;;AALL,KAHP;;AAeL;;AAEAM,UAjBK,oBAiBK,CAGT,CApBI;AAsBLC,SAtBK,mBAsBI;AACL,YAAGf,OAAOgB,EAAV,EAAa;AACT,gBAAGhB,OAAOgB,EAAP,CAAUC,WAAV,IAAyB,IAA5B,EAAiC;AAC7Bf,mBAAGgB,WAAH,CAAeC,IAAf,CAAoBnB,OAAOgB,EAAP,CAAUC,WAA9B;AACH;AACJ;;AAGD,YAAIG,WAAW,KAAKC,IAAL,CAAUC,cAAV,CAAyB,MAAzB,CAAf;AACA,YAAIC,gBAAgBH,SAASI,YAAT,CAAsBtB,GAAGuB,SAAzB,CAApB;;AAEA,YAAIC,YAAY,KAAKL,IAAL,CAAUC,cAAV,CAAyB,WAAzB,EAAsCA,cAAtC,CAAqD,OAArD,CAAhB;AACA,YAAIK,iBAAiBD,UAAUF,YAAV,CAAuBtB,GAAGuB,SAA1B,CAArB;;AAEA,YAAIG,UAAU,KAAKP,IAAL,CAAUC,cAAV,CAAyB,KAAzB,CAAd;AACA,YAAIO,eAAeD,QAAQJ,YAAR,CAAqBtB,GAAGuB,SAAxB,CAAnB;;AAEA,YAAIK,YAAY,KAAKT,IAAL,CAAUC,cAAV,CAAyB,WAAzB,CAAhB;AACA,YAAIS,iBAAiBD,UAAUN,YAAV,CAAuBtB,GAAGuB,SAA1B,CAArB;;AAEAvB,WAAGgB,WAAH,CAAec,UAAf,CAA0B,KAAKrB,WAA/B,EAA4C,KAA5C;AACAY,sBAAcU,IAAd,CAAmB,YAAnB;AACAV,sBAAcW,EAAd,CAAiB,UAAjB,EAA4B,YAAY;;AAEpCL,yBAAaI,IAAb,CAAkB,YAAlB;AACAP,sBAAUS,MAAV,GAAmBL,UAAUK,MAAV,GAAoB,IAAvC;AACAR,2BAAeM,IAAf,CAAoB,aAApB;AACAF,2BAAeE,IAAf,CAAoB,cAApB;AACAjC,mBAAOgB,EAAP,CAAUC,WAAV,GAAwBf,GAAGgB,WAAH,CAAec,UAAf,CAA0BhC,OAAOgB,EAAP,CAAUoB,QAApC,EAA8C,IAA9C,CAAxB;AACA,gBAAGpC,OAAOqC,EAAP,IAAa,IAAhB,EAAqB;AACjBrC,uBAAOgB,EAAP,CAAUsB,QAAV;AACH;AAGJ,SAZD;AAaH,KAzDI;AA2DLC,YA3DK,sBA2DK;AACNrC,WAAGsC,QAAH,CAAYC,SAAZ,CAAsB,eAAtB;AACH,KA7DI;AA8DLC,SA9DK,mBA8DE;AACH1C,eAAOgB,EAAP,CAAU2B,SAAV;AACH;;AAED;;AAlEK,CAAT","file":"lb_ysc_opening.js","sourceRoot":"..\\..\\..\\..\\..\\assets\\lb_ysc\\Script","sourcesContent":["var common = require('lb_ysc_common');\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        laya:{\r\n            default:null,\r\n            type:cc.Node\r\n        },\r\n        audio_enter: {\r\n            url: cc.AudioClip,\r\n            default: null\r\n        },\r\n\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        \r\n\r\n    },\r\n\r\n    start () {\r\n        if(common.sm){\r\n            if(common.sm.playAudioId != null){\r\n                cc.audioEngine.stop(common.sm.playAudioId);\r\n            }\r\n        }\r\n        \r\n        \r\n        var laya_box = this.node.getChildByName('laya');\r\n        var OpenAnimation = laya_box.getComponent(cc.Animation);\r\n\r\n        var start_box = this.node.getChildByName('start-btn').getChildByName(\"Label\");\r\n        var startAnimation = start_box.getComponent(cc.Animation);\r\n\r\n        var top_box = this.node.getChildByName('top');\r\n        var topAnimation = top_box.getComponent(cc.Animation);\r\n\r\n        var share_box = this.node.getChildByName('share-btn');\r\n        var shareAnimation = share_box.getComponent(cc.Animation);\r\n        \r\n        cc.audioEngine.playEffect(this.audio_enter, false);\r\n        OpenAnimation.play('lb_ysc_one');\r\n        OpenAnimation.on('finished',function () {\r\n            \r\n            topAnimation.play('lb_ysc_top');\r\n            start_box.active = share_box.active =  true;\r\n            startAnimation.play('lb_ysc_fade');\r\n            shareAnimation.play('lb_ysc_fade2');\r\n            common.sm.playAudioId = cc.audioEngine.playEffect(common.sm.audio_bg, true);\r\n            if(common.gm == null){\r\n                common.sm.onLaunch();\r\n            }\r\n            \r\n\r\n        })\r\n    },\r\n\r\n    toSelect(){\r\n        cc.director.loadScene('lb_ysc_select');\r\n    },\r\n    share(){\r\n        common.sm.shareGame();\r\n    }\r\n\r\n    // update (dt) {},\r\n});\r\n"]}